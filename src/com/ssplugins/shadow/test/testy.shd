main {
    store count exec{count_chars,"aaabcac"}
    log [count]
}

define count_chars (str) {
    set map =HashMap
    store i 0
    while [i] < %{str:length} {
        set c str:charAt([i])
        if %{map:containsKey([c])} == false {
            call map:put([c], 0)
        }
        set c map:get([c])
        store c [c] + 1
        call map:put([c], [c])
        store i [i] + 1
    }
    return [map]
}



define count_chars (str) {
^      ^           ^^    ^
keyword
       modifier    parentheses

